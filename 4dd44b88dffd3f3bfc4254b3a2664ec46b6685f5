{
  "comments": [
    {
      "key": {
        "uuid": "ac9b6591_5355d495",
        "filename": "include/swappy/swappy_extra.h",
        "patchSetId": 1
      },
      "lineNbr": 55,
      "author": {
        "id": 1376737
      },
      "writtenOn": "2018-12-18T01:24:14Z",
      "side": 1,
      "message": "Dan suggested to not have a new function, but use the existing swappy_SwapInterval.",
      "revId": "4dd44b88dffd3f3bfc4254b3a2664ec46b6685f5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e1ca17b9_06ac9f4f",
        "filename": "include/swappy/swappy_extra.h",
        "patchSetId": 1
      },
      "lineNbr": 55,
      "author": {
        "id": 1269249
      },
      "writtenOn": "2018-12-18T12:23:56Z",
      "side": 1,
      "message": "This is clearly a personal style thing, but I\u0027m with Ady on this one.",
      "parentUuid": "ac9b6591_5355d495",
      "revId": "4dd44b88dffd3f3bfc4254b3a2664ec46b6685f5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "94234479_416e992a",
        "filename": "include/swappy/swappy_extra.h",
        "patchSetId": 1
      },
      "lineNbr": 55,
      "author": {
        "id": 1388190
      },
      "writtenOn": "2018-12-18T18:09:00Z",
      "side": 1,
      "message": "These functions have a different meaning:\n - Swappy_setSwapInterval - sets the minimal swap interval that swappy should not cross\n - Swappy_overrideAutoSwapInterval - overrides a decision made by swappy.\n\nSo if we still want to let the app to set a minimal swap interval we need 2 APIs",
      "parentUuid": "e1ca17b9_06ac9f4f",
      "revId": "4dd44b88dffd3f3bfc4254b3a2664ec46b6685f5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7d19c6f4_50efd93d",
        "filename": "include/swappy/swappy_extra.h",
        "patchSetId": 1
      },
      "lineNbr": 55,
      "author": {
        "id": 1376737
      },
      "writtenOn": "2018-12-18T18:34:12Z",
      "side": 1,
      "message": "Here\u0027s my logic: the user shouldn\u0027t have to know about the internal working of Swappy and auto-mode should \"just\" work. But when it doesn\u0027t, there is a way to reset it by stating again your intention to swap at a certain interval.\nSo the function would be: \n- Swappy_setSwapInterval - sets the swap interval swappy must use now and never cross",
      "parentUuid": "94234479_416e992a",
      "revId": "4dd44b88dffd3f3bfc4254b3a2664ec46b6685f5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fa49e91c_0628b8cc",
        "filename": "include/swappy/swappy_extra.h",
        "patchSetId": 1
      },
      "lineNbr": 55,
      "author": {
        "id": 1388190
      },
      "writtenOn": "2018-12-18T22:35:53Z",
      "side": 1,
      "message": "Hmm that might work, assuming that the app always want to reset swappy to the value provided in Swappy_setSwapInterval(), which makes sense.\nI\u0027ll change this.",
      "parentUuid": "7d19c6f4_50efd93d",
      "revId": "4dd44b88dffd3f3bfc4254b3a2664ec46b6685f5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "544749ea_c05434ee",
        "filename": "include/swappy/swappy_extra.h",
        "patchSetId": 1
      },
      "lineNbr": 55,
      "author": {
        "id": 1376737
      },
      "writtenOn": "2018-12-18T22:39:19Z",
      "side": 1,
      "message": "Can we seamlessly support the case in which the app would change it to a different value? \nI\u0027m thinking of a scenario where, for example, the app would change to 20fps in menus to save battery and back to 30fps in game. Another use case is cutscenes where I might want to go down to 24fps to have a cinematic effect on screens that support it.\n\nI personally used this trick few times in the past, last time, for example, on the Apple Watch to save battery.",
      "parentUuid": "fa49e91c_0628b8cc",
      "revId": "4dd44b88dffd3f3bfc4254b3a2664ec46b6685f5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "020575ed_c8c482c5",
        "filename": "include/swappy/swappy_extra.h",
        "patchSetId": 1
      },
      "lineNbr": 55,
      "author": {
        "id": 1388190
      },
      "writtenOn": "2018-12-18T22:44:20Z",
      "side": 1,
      "message": "Well, app would need to call Swappy_setSwapInterval with different parameters, meaning that when the apps want to go \"back\" it needs now to call Swappy_setSwapInterval explicitly with the \"back\" value.",
      "parentUuid": "544749ea_c05434ee",
      "revId": "4dd44b88dffd3f3bfc4254b3a2664ec46b6685f5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "43da4d22_b044ff9a",
        "filename": "include/swappy/swappy_extra.h",
        "patchSetId": 1
      },
      "lineNbr": 55,
      "author": {
        "id": 1376737
      },
      "writtenOn": "2018-12-18T22:51:35Z",
      "side": 1,
      "message": "If I understand it correctly, for the sake of argument, can I have the following sequence?\n\n// game play\nswappy_setSwapInterval(SWAPPY_30FPS);\n\n...\n(Swappy decide to go down to 20fps here)\n...\n\n// menu\n\nswappy_setSwapInterval(SWAPPY_20FPS);\n\n...\n...\n\n// Back to gameplay\nswappy_setSwapInterval(SWAPPY_30FPS);\n\n...\n(Swappy is reset back to 30fps)\n...",
      "parentUuid": "020575ed_c8c482c5",
      "revId": "4dd44b88dffd3f3bfc4254b3a2664ec46b6685f5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3bf8ea1b_a4564114",
        "filename": "include/swappy/swappy_extra.h",
        "patchSetId": 1
      },
      "lineNbr": 55,
      "author": {
        "id": 1388190
      },
      "writtenOn": "2018-12-18T22:59:04Z",
      "side": 1,
      "message": "Yes, this works.",
      "parentUuid": "43da4d22_b044ff9a",
      "revId": "4dd44b88dffd3f3bfc4254b3a2664ec46b6685f5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e1ceffc4_e7d20819",
        "filename": "src/swappy/src/main/cpp/Swappy.cpp",
        "patchSetId": 1
      },
      "lineNbr": 322,
      "author": {
        "id": 1376737
      },
      "writtenOn": "2018-12-18T01:24:14Z",
      "side": 1,
      "message": "Reserve the the sliding window size of elements in the vector so you don\u0027t have to malloc every few frames.",
      "revId": "4dd44b88dffd3f3bfc4254b3a2664ec46b6685f5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4878a468_10a4c6f4",
        "filename": "src/swappy/src/main/cpp/Swappy.cpp",
        "patchSetId": 1
      },
      "lineNbr": 322,
      "author": {
        "id": 1388190
      },
      "writtenOn": "2018-12-18T18:09:00Z",
      "side": 1,
      "message": "It is an std::list and not std::vector.\nSince I need to add to the end and pop from the beginning (fifo queue), vector may not be the right fit\n\nstd::vector:\nThe complexity (efficiency) of common operations on vectors is as follows:\n\nRandom access - constant O(1)\nInsertion or removal of elements at the end - amortized constant O(1)\nInsertion or removal of elements - linear in the distance to the end of the vector O(n)",
      "parentUuid": "e1ceffc4_e7d20819",
      "revId": "4dd44b88dffd3f3bfc4254b3a2664ec46b6685f5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2628f301_c1233c7f",
        "filename": "src/swappy/src/main/cpp/Swappy.cpp",
        "patchSetId": 1
      },
      "lineNbr": 322,
      "author": {
        "id": 1376737
      },
      "writtenOn": "2018-12-18T18:27:47Z",
      "side": 1,
      "message": "I\u0027m not referring to algorithmic complexity. I\u0027m more concerned about the per-frame allocations/deallocations rather then complexity here. For such a small set of data, I\u0027m happy to take a complexity hit to avoid any memory allocation in a game engine.\nMemory allocations are very much frowned upon by gamedevs (among various other issues, memory fragmentation is a big problem) and we should not add any, especially for something as basic as swappy.",
      "parentUuid": "4878a468_10a4c6f4",
      "revId": "4dd44b88dffd3f3bfc4254b3a2664ec46b6685f5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a0568b29_ae2c966b",
        "filename": "src/swappy/src/main/cpp/Swappy.cpp",
        "patchSetId": 1
      },
      "lineNbr": 322,
      "author": {
        "id": 1388190
      },
      "writtenOn": "2018-12-18T22:35:53Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "2628f301_c1233c7f",
      "revId": "4dd44b88dffd3f3bfc4254b3a2664ec46b6685f5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "75ac8328_52450bfc",
        "filename": "src/swappy/src/main/cpp/Swappy.cpp",
        "patchSetId": 1
      },
      "lineNbr": 427,
      "author": {
        "id": 1376737
      },
      "writtenOn": "2018-12-18T01:24:14Z",
      "side": 1,
      "message": "Can we use a constant instead of 1.2?\nLike: mAutoSwapInterval * (1.0 + HYSTERESIS_PERCENTAGE);",
      "revId": "4dd44b88dffd3f3bfc4254b3a2664ec46b6685f5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9c91a13b_5604873c",
        "filename": "src/swappy/src/main/cpp/Swappy.cpp",
        "patchSetId": 1
      },
      "lineNbr": 427,
      "author": {
        "id": 1388190
      },
      "writtenOn": "2018-12-18T18:09:00Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "75ac8328_52450bfc",
      "revId": "4dd44b88dffd3f3bfc4254b3a2664ec46b6685f5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c42fdf16_ab8d8cd6",
        "filename": "src/swappy/src/main/cpp/Swappy.cpp",
        "patchSetId": 1
      },
      "lineNbr": 432,
      "author": {
        "id": 1376737
      },
      "writtenOn": "2018-12-18T01:24:14Z",
      "side": 1,
      "message": "Same constant as above instead of 0.8：（1.0 - HYSTERESIS_PERCENTAGE)",
      "revId": "4dd44b88dffd3f3bfc4254b3a2664ec46b6685f5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "35fdd50b_df29be55",
        "filename": "src/swappy/src/main/cpp/Swappy.cpp",
        "patchSetId": 1
      },
      "lineNbr": 432,
      "author": {
        "id": 1388190
      },
      "writtenOn": "2018-12-18T18:09:00Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "c42fdf16_ab8d8cd6",
      "revId": "4dd44b88dffd3f3bfc4254b3a2664ec46b6685f5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c51b2f05_0a8cb3fc",
        "filename": "src/swappy/src/main/cpp/Swappy.h",
        "patchSetId": 1
      },
      "lineNbr": 161,
      "author": {
        "id": 1269249
      },
      "writtenOn": "2018-12-18T12:23:56Z",
      "side": 1,
      "message": "I have mixed feelings about this default value. I think that during the EAP we should have it default to false and then ask people to try it out. I\u0027m slightly concerned that this code will interfere with other dynamic framerate implementations which have been rolled by developers in their own higher level code. If there are no such problems during the EAP then we could re-visit having it default to true.\n\nI\u0027m very nearly on the fence on this one tho. WDYT?",
      "revId": "4dd44b88dffd3f3bfc4254b3a2664ec46b6685f5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "559b6e0f_59691318",
        "filename": "src/swappy/src/main/cpp/Swappy.h",
        "patchSetId": 1
      },
      "lineNbr": 161,
      "author": {
        "id": 1376737
      },
      "writtenOn": "2018-12-18T17:47:42Z",
      "side": 1,
      "message": "We discussed with Dan and Ady and I flipped few times, then I settled on having it on by default, so devs can try it and if there are issues we can default it to false on release. Our only EAP requested it in the first place.",
      "parentUuid": "c51b2f05_0a8cb3fc",
      "revId": "4dd44b88dffd3f3bfc4254b3a2664ec46b6685f5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4aca6cee_f5667afe",
        "filename": "src/swappy/src/main/cpp/Swappy.h",
        "patchSetId": 1
      },
      "lineNbr": 161,
      "author": {
        "id": 1388190
      },
      "writtenOn": "2018-12-18T18:09:00Z",
      "side": 1,
      "message": "My opinion is to keep it on by default. If the frames are slower than what swappy thinks it is, swappy doesn\u0027t add much value, so for swappy to work better this value is needed.\n\nIf there are any issues with the auto mode we should fix that rather than having it disabled.",
      "parentUuid": "c51b2f05_0a8cb3fc",
      "revId": "4dd44b88dffd3f3bfc4254b3a2664ec46b6685f5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    }
  ]
}